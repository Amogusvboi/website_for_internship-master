<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <style>

    /* Custom styles for the page */
    html,
    body {
      height: 100%;
      margin: 0;
      padding: 0;
    }
  
    body {
      background-image: url('background-tower.jpg');
      background-repeat: no-repeat;
      background-size: cover;
      background-position: center;
    }
  
    /* Custom styles for the navigation bar */
    .navbar {
      background-color: transparent;
      color: white;
      font-family: "Marvel", sans-serif;
    }
  
    .navbar-brand img {
      height: 30px;
      width: auto;
      margin-right: 10px;
      filter: invert(100%);
    }
  
    .navbar .btn {
      color: white;
      border: none;
    }
  
    .navbar .btn-yellow {
      background-color: rgb(58, 150, 255);
    }
  
    /* Custom styles for the Sign Up button */
    .btn-signup {
      color: white;
      border: none;
      position: relative;
      overflow: hidden;
    }
  
    .second-container {
      background-color: white;
      height: calc(100% - 25px);
      border: 2px solid black;
      padding: 20px;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
    }
  
    .btn-signup::before {
      content: '';
      position: absolute;
      top: -100%;
      left: -100%;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.3);
      opacity: 0;
      pointer-events: none;
      z-index: -1;
      transform: rotate(-45deg);
      transition: all 0.4s;
    }
  
    .btn-signup:hover {
      color: black;
    }
  
    .btn-signup:hover::before {
      top: 0;
      left: 0;
      opacity: 1;
    }
  
    /* Custom styles for the container */
    .custom-container {
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      height: calc(100% - 25px); /* Update the height for the first container */
      padding: 20px;
    }
  
    /* Custom styles for the header */
    .header {
      text-align: center;
      margin-top: -50px;
    }
  
    .header .internship {
      color: azure;
      font-size: 72px;
      font-family: "Candara", sans-serif;
      margin-bottom: -13px; /* Adjust the value as needed */
      font-weight: bold;
      text-shadow: -2px -2px 0 rgba(128, 128, 128, 0.5), 2px -2px 0 rgba(128, 128, 128, 0.5), -2px 2px 0 rgba(128, 128, 128, 0.5), 2px 2px 0 rgba(128, 128, 128, 0.5);
    }
  
    .header .consult {
      font-size: 30px;
      color: grey;
      font-family: "Candara", sans-serif;
    }
  
    .second-container p {
      margin-top: -25px; /* Adjust the margin value as needed */
    }
  
    .scroll-trigger {
      position: relative;
      opacity: 0; /* Set initial opacity to 0 */
      transform: translateY(200px); /* Move elements 200px up */
      transition: opacity 0.6s ease-out, transform 0.6s ease-out; /* Use easing for smoother transition */
    }
  
    .scroll-trigger.visible {
      opacity: 1;
      transform: translateY(0);
    }
  
    /* Custom styles for the popup */
    .popup {
      position: fixed;      
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.5);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 999;
      visibility: hidden;
      opacity: 0;
      transition: visibility 0s linear 0.25s, opacity 0.25s;
    }
  
    .popup.show {
      visibility: visible;
      opacity: 1;
      transition-delay: 0s;
    }
  
    .popup-content {
      background-color: white;
      padding: 20px;      
      border-radius: 5px;
      max-width: 400px;
      text-align: center;
    }
  
    .popup-content input {
      margin-bottom: 10px;
      width: 100%;
      padding: 5px;
      border-radius: 3px;
      border: 1px solid #ccc;
      box-sizing: border-box;
    }
  
    .popup-content button {
      padding: 10px 20px;
      border-radius: 3px;
      border: none;
      background-color: rgb(58, 150, 255);
      color: white;
      cursor: pointer;
    }
  
    .username-frame {
      display: inline-block;
      padding: 5px 10px;
      border: 2px solid blue;
      border-radius: 5px;
      color: blue;
      background-color: lightblue;
      font-weight: bold;
    }
  
    /* Custom styles for the close button */
    .close-button {
      position: absolute;
      top: 10px;
      right: 10px;
      width: 20px;
      height: 20px;
      cursor: pointer;
    }
  
    /* Adjust the z-index to ensure the close button is visible */
    .popup-content {
      position: relative;
      z-index: 1;
    }
  
    .signup-header {
      margin-bottom: 30px;
    }
  
    .login-header {
      margin-bottom: 30px;
    }
  
    .user-circle {
      width: 35px;
      height: 35px;
      background-color: white;
      border-radius: 50%;
      border: 2px solid rgba(114, 164, 240, 0.712);
    }

    .user-username {
      
    }

    #sidebar-user-account {
      width: 250px;
      height: 250px;
      position: fixed;
      top: 60px;
      right: -250px; /* Initially off-screen */
      background-color: #fff;
      visibility: hidden; /* Initially hidden */
      transition: visibility 0s ease-out 0.2s, right 0.2s ease-out; /* Transition properties */
    }

    #sidebar-user-account.open {
      right: 17px;
      border-radius: 10px;
      visibility: visible;
      transition-delay: 0s, 0s;
      border: 2px solid rgba(114, 164, 240, 0.712);
    }

  </style>
  
</head>

<body>

  <nav class="navbar navbar-expand-lg">
    <a class="navbar-brand" href="#">
      <img src="hamburger.png" alt="Logo">
    </a>
    <div class="ml-auto" id="navbarRight">
      <button class="btn btn-outline-light mr-2 btn-signup" onclick="showPopup('signupPopup')">Sign Up</button>
      <button class="btn btn-yellow" id="loginButton" onclick="showPopup('loginPopup')">Log in</button>
    </div>
  </nav>
  
  <div class="custom-container scroll-trigger">
    <div class="header">
      <h1 class="internship">Internship</h1>
      <p class="consult">at Tower Consult GmbH</p>
    </div>
  </div>
  
  <div class="second-container scroll-trigger">
    <h1>This is just a header!</h1>
    <br>
    <br>
    <br>
    <p>This is just a paragraph</p>
  </div>
  
  <!-- Close button for the signup popup -->
  <div class="popup" id="signupPopup">
    <div class="popup-content">
      <h2 class="signup-header">Sign Up</h2>      
      <img src="cancel.png" alt="Close" class="close-button" onclick="closePopup('signupPopup')">
      <input type="text" placeholder="Username" id="signup-username" required>
      <input type="password" placeholder="Password" id="signup-password" required>
      <button onclick="registerUser()">Register</button>
    </div>
  </div>
  
  <!-- Close button for the login popup -->
  <div class="popup" id="loginPopup">
    <div class="popup-content">
      <h2 class="login-header">Log in</h2>
      <!-- Add the close button with the cancel.png image -->
      <img src="cancel.png" alt="Close" class="close-button" onclick="closePopup('loginPopup')">
      <input type="text" placeholder="Username" id="login-username" required>
      <input type="password" placeholder="Password" id="login-password" required>
      <button class="btn btn-yellow" id="loginButton" onclick="loginUser()">Log in</button>
    </div>
  </div>

  <!-- Sidebar -->
  <div class="sidebar-user-account" id="sidebar-user-account">
    <!-- Sidebar content goes here -->
  </div>

  
  <script>
    // Intersection Observer callback function
    function handleIntersection(entries, observer) {
      entries.forEach((entry) => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
          observer.unobserve(entry.target);
        }
      });
    }
  
    // Create an Intersection Observer
    const observer = new IntersectionObserver(handleIntersection, {
      root: null,
      rootMargin: '-200px', // Adjust the rootMargin as needed
      threshold: 0.2, // Adjust the threshold as needed
    });
  
    // Get all elements with the 'scroll-trigger' class
    const scrollTriggerElements = document.querySelectorAll('.scroll-trigger');
  
    // Observe each scroll-trigger element
    scrollTriggerElements.forEach((element) => {
      observer.observe(element);
    });
  
    // Show the login popup
    function showPopup(input_element) {
      document.getElementById(input_element).classList.add('show');
    }
  
    // Register user
    function registerUser() {
      const username = document.getElementById('signup-username').value;
      const password = document.getElementById('signup-password').value;
  
      // Check if username is already taken
      const users = JSON.parse(localStorage.getItem('users')) || [];
      const existingUser = users.find(user => user.username === username);
  
      if (existingUser) {
        alert('Username is already taken. Please choose a different username.');
      } else {
        // Add the new user to the list
        users.push({ username, password });
        localStorage.setItem('users', JSON.stringify(users));
        alert('Registration successful. You can now log in.');
        document.getElementById('signupPopup').classList.remove('show');
      }
    }
    
    // Log in user
    function loginUser() {
      const username = document.getElementById('login-username').value;
      const password = document.getElementById('login-password').value;

      // Check if the user exists
      const users = JSON.parse(localStorage.getItem('users')) || [];
      const user = users.find(user => user.username === username && user.password === password);

      if (user) {
        alert('Login successful. Welcome, ' + username + '!');

        // Display a white circle with stroke
        const navbarRight = document.getElementById('navbarRight');
        navbarRight.innerHTML = '<div class="user-circle" onmouseover="openSidebar()" onmouseout="closeSidebar()"></div>';

        // Close the login popup
        document.getElementById('loginPopup').classList.remove('show');

      } else {
        alert('Invalid username or password. Please try again.');
      }
    }

   // Open sidebar-user-account
    function openSidebar() {
      const sidebar = document.getElementById('sidebar-user-account');
      sidebar.classList.add('open');
    }

    // Open sidebar
    function openSidebar() {
      const sidebar = document.getElementById('sidebar-user-account');
      sidebar.classList.add('open');
    }

    // Open sidebar
    function openSidebar() {
      const sidebar = document.getElementById('sidebar-user-account');
      sidebar.classList.add('open');
    }

    // Close sidebar
    function closeSidebar() {
      const sidebar = document.getElementById('sidebar-user-account');
      const userCircle = document.querySelector('.user-circle');
      setTimeout(function() {
        if (!sidebar.matches(':hover') && !userCircle.matches(':hover')) {
          sidebar.classList.remove('open');
        }
      }, 500); // Delay in milliseconds (0.5 seconds)
    }

    // Add event listener to user-circle for opening the sidebar
    const userCircle = document.querySelector('.user-circle');
    userCircle.addEventListener('mouseover', openSidebar);

    // Add event listener to sidebar for keeping it open
    const sidebar = document.getElementById('sidebar-user-account');
    sidebar.addEventListener('mouseover', openSidebar);
    sidebar.addEventListener('mouseout', closeSidebar);

    // Add event listener to document for closing the sidebar
    document.addEventListener('mouseout', function(event) {
      if (!event.relatedTarget || (!event.relatedTarget.closest('#sidebar-user-account') && !event.relatedTarget.closest('.user-circle'))) {
        closeSidebar();
      }
    });


    // Close the popup
    function closePopup(popupId) {
      const popup = document.getElementById(popupId);
      popup.classList.remove('show');
    }

  </script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" defer></script>
  
</body>

</html>
<!--  -->
