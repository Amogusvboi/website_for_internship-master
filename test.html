<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <style>

    /* Custom styles for the page */
    html,
    body {
      height: 100%;
      margin: 0;
      padding: 0;
    }
  
    body {
      background-image: url('background-tower.jpg');
      background-repeat: no-repeat;
      background-size: cover;
      background-position: center;
    }
  
    /* Custom styles for the navigation bar */
    .navbar {
      background-color: transparent;
      color: white;
      font-family: "Marvel", sans-serif;
    }
  
    .navbar-brand img {
      height: 30px;
      width: auto;
      margin-right: 10px;
      filter: invert(100%);
    }
  
    .navbar .btn {
      color: white;
      border: none;
    }
  
    .navbar .btn-yellow {
      background-color: rgb(58, 150, 255);
    }
  
    /* Custom styles for the Sign Up button */
    .btn-signup {
      color: white;
      border: none;
      position: relative;
      overflow: hidden;
    }
  
    .second-container.visible {
      background-color: rgb(41, 41, 41);
      height: calc(100% - 25px);
      border: 2px solid black;      
      display: grid; /* Use grid layout */
      grid-template-columns: 1fr 1fr 1fr;
      grid-template-rows: 1fr 1fr 1fr; 
      grid-gap: 10px; /* Add gap between grid items */
      justify-items: center; /* Center items horizontally within each grid cell */
      align-items: center; /* Center items vertically within each grid cell */
    }

    .second-container > div {
      flex-basis: calc(33.33% - 20px);      
      background-color: transparent;
      height: 200px;
      box-sizing: border-box;
      border: 2px white; /* Add white border to each division */
    }
    .second-container.visible h1,h2,h3,h4,h5,h6 {
      color: white;
      text-align: center;
    }

    .second-container.visible > div {
      border-right: 1px solid grey;
      border-left: 1px solid grey;
    }

    .btn-signup::before {
      content: '';
      position: absolute;
      top: -100%;
      left: -100%;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.3);
      opacity: 0;
      pointer-events: none;
      z-index: -1;
      transform: rotate(-45deg);
      transition: all 0.4s;
    }
  
    .btn-signup:hover {
      color: black;
    }
  
    .btn-signup:hover::before {
      top: 0;
      left: 0;
      opacity: 1;
    }
  
    /* Custom styles for the container */
    .custom-container {
      display: flex;      
      flex-direction: column;
      justify-content: center;
      align-items: center;
      height: calc(100% - 58px); /* Update the height for the first container */
      padding: 20px;
    }
  
    /* Custom styles for the header */
    .header {
      text-align: center;
      margin-top: -50px;
    }
  
    .header .internship {
      color: azure;
      font-size: 72px;
      font-family: "Candara", sans-serif;
      margin-bottom: -13px; /* Adjust the value as needed */
      font-weight: bold;
      text-shadow: -2px -2px 0 rgba(128, 128, 128, 0.5), 2px -2px 0 rgba(128, 128, 128, 0.5), -2px 2px 0 rgba(128, 128, 128, 0.5), 2px 2px 0 rgba(128, 128, 128, 0.5);
    }
  
    .header .consult {
      font-size: 30px;
      color: grey;
      font-family: "Candara", sans-serif;
    }
  
    .scroll-trigger {
      position: relative;
      opacity: 0; /* Set initial opacity to 0 */
      transform: translateY(200px); /* Move elements 200px up */
      transition: opacity 0.6s ease-out, transform 0.6s ease-out; /* Use easing for smoother transition */
    }
  
    .scroll-trigger.visible {
      opacity: 1;
      transform: translateY(0);
    }
  
    /* Custom styles for the popup */
    .popup {
      position: fixed;      
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.5);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 999;
      visibility: hidden;
      opacity: 0;
      transition: visibility 0s linear 0.25s, opacity 0.25s;
    }

    .popup h1,h2,h3,h4,h5,h6 {
      color: black;
    }
  
    .popup.show {
      visibility: visible;
      opacity: 1;
      transition-delay: 0s;
    }
  
    .popup-content {
      background-color: white;
      padding: 20px;      
      border-radius: 5px;
      max-width: 400px;
      text-align: center;
    }
  
    .popup-content input {
      margin-bottom: 10px;
      width: 100%;
      padding: 5px;
      border-radius: 3px;
      border: 1px solid #ccc;
      box-sizing: border-box;
    }
  
    .popup-content button {
      padding: 10px 20px;
      border-radius: 3px;
      border: none;
      background-color: rgb(58, 150, 255);
      color: white;
      cursor: pointer;
    }
  
    .username-frame {
      display: inline-block;
      padding: 5px 10px;
      border: 2px solid blue;
      border-radius: 5px;
      color: blue;
      background-color: lightblue;
      font-weight: bold;
    }
  
    /* Custom styles for the close button */
    .close-button {
      position: absolute;
      top: 10px;
      right: 10px;
      width: 20px;
      height: 20px;
      cursor: pointer;
    }
  
    /* Adjust the z-index to ensure the close button is visible */
    .popup-content {
      position: relative;
      z-index: 1;
    }
  
    .signup-header {
      margin-bottom: 30px;
    }
  
    .login-header {
      margin-bottom: 30px;
    }
  
    .user-circle {
      width: 35px;
      height: 35px;
      background-color: white;
      border-radius: 50%;
      border: 2px solid rgba(114, 164, 240, 0.712);
    }

    .user-username {
      
    }

    #sidebar-user-account {
      width: 250px;
      height: 250px;
      position: fixed;
      top: 60px;
      right: -250px; /* Initially off-screen */
      background-color: #fff;
      visibility: hidden; /* Initially hidden */
      transition: visibility 0s ease-out 0.2s, right 0.2s ease-out; /* Transition properties */
    }

    #sidebar-user-account.open {
      right: 17px;
      border-radius: 10px;
      visibility: visible;
      transition-delay: 0s, 0s;
      border: 2px solid rgba(114, 164, 240, 0.712);
    }

  </style>
  
</head>

<body>

  <nav class="navbar navbar-expand-lg">
    <a class="navbar-brand" href="#">
      <img src="hamburger.png" alt="Logo">
    </a>
    <div class="ml-auto" id="navbarRight">
      <button class="btn btn-outline-light mr-2 btn-signup" onclick="redirectToRegister()">Sign Up</button>
      <button class="btn btn-yellow" id="loginButton" onclick="redirectToLogin()">Log in</button>
    </div>
  </nav>
  
  <div class="custom-container scroll-trigger">
    <div class="header">
      <h1 class="internship">Internship</h1>
      <p class="consult">at Tower Consult GmbH</p>
    </div>
  </div>
  
  <div class="second-container visible">
    <div>
      <h1>Port scanner</h1>
    </div>
    <div>
      <h1>Password cracker</h1>
    </div>
    <div>
      <h1>Hash decoder</h1>
    </div>
  </div>

  <!-- Sidebar -->
  <div class="sidebar-user-account" id="sidebar-user-account">
    <!-- Sidebar content goes here -->
  </div>

  
  <script>
    // Intersection Observer callback function
    function handleIntersection(entries, observer) {
      entries.forEach((entry) => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
          observer.unobserve(entry.target);
        }
      });
    }
  
    // Create an Intersection Observer
    const observer = new IntersectionObserver(handleIntersection, {
      root: null,
      rootMargin: '-200px', // Adjust the rootMargin as needed
      threshold: 0.2, // Adjust the threshold as needed
    });
  
    // Get all elements with the 'scroll-trigger' class
    const scrollTriggerElements = document.querySelectorAll('.scroll-trigger');
  
    // Observe each scroll-trigger element
    scrollTriggerElements.forEach((element) => {
      observer.observe(element);
    });
  
    function redirectToRegister() {
      window.location.href = "register.html";
    }
  
    // Function to redirect to the login page
    function redirectToLogin() {
      window.location.href = "login.html";
    }
  
    // Open sidebar
    function openSidebar() {
      const sidebar = document.getElementById('sidebar-user-account');
      sidebar.classList.add('open');
    }
  
    // Close sidebar
    function closeSidebar() {
      const sidebar = document.getElementById('sidebar-user-account');
      const userCircle = document.querySelector('.user-circle');
      setTimeout(function() {
        if (!sidebar.matches(':hover') && !userCircle.matches(':hover')) {
          sidebar.classList.remove('open');
        }
      }, 500); // Delay in milliseconds (0.5 seconds)
    }
  
    // Add event listener to user-circle for opening the sidebar
    const userCircle = document.querySelector('.user-circle');
    userCircle.addEventListener('mouseover', openSidebar);
  
    // Add event listener to sidebar for keeping it open
    const sidebar = document.getElementById('sidebar-user-account');
    sidebar.addEventListener('mouseover', openSidebar);
    sidebar.addEventListener('mouseout', closeSidebar);
  
    // Add event listener to document for closing the sidebar
    document.addEventListener('mouseout', function(event) {
      if (!event.relatedTarget || (!event.relatedTarget.closest('#sidebar-user-account') && !event.relatedTarget.closest('.user-circle'))) {
        closeSidebar();
      }
    });
  
    // Close the popup
    function closePopup(popupId) {
      const popup = document.getElementById(popupId);
      popup.classList.remove('show');
    }
  
    // Function to handle successful login
    function handleSuccessfulLogin(username) {
      // Disable register and login buttons
      const registerButton = document.querySelector('.btn-signup');
      const loginButton = document.getElementById('loginButton');
      registerButton.disabled = true;
      loginButton.disabled = true;
  
      // Update greeting message
      const greetingMessage = document.createElement('span');
      greetingMessage.textContent = 'Hello, ' + username;
      greetingMessage.classList.add('user-username');
      const navbarRight = document.getElementById('navbarRight');
      navbarRight.insertBefore(greetingMessage, navbarRight.firstChild);
  
      // Create logout button
      const logoutButton = document.createElement('button');
      logoutButton.textContent = 'Logout';
      logoutButton.classList.add('btn', 'btn-danger', 'ml-2');
      logoutButton.addEventListener('click', handleLogout);
      navbarRight.appendChild(logoutButton);
    }
  
    // Function to handle logout
    function handleLogout() {
      // Enable register and login buttons
      const registerButton = document.querySelector('.btn-signup');
      const loginButton = document.getElementById('loginButton');
      registerButton.disabled = false;
      loginButton.disabled = false;
  
      // Remove greeting message and logout button
      const greetingMessage = document.querySelector('.user-username');
      const logoutButton = document.querySelector('.btn-danger');
      greetingMessage.remove();
      logoutButton.remove();
    }
  
    // Check if the user is logged in and update the page accordingly
    function checkLoggedIn() {
      const loggedInUser = sessionStorage.getItem('loggedInUser');
  
      if (loggedInUser) {
        handleSuccessfulLogin(loggedInUser);
      }
    }
  
    // Call the checkLoggedIn function on page load
    checkLoggedIn();
  </script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" defer></script>
  
</body>

</html>
<!--  -->
